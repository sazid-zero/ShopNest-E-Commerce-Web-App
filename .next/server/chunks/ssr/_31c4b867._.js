module.exports=[866718,a=>{"use strict";var b=a.i(187924),c=a.i(368114);function d({className:a,type:d,...e}){return(0,b.jsx)("input",{type:d,"data-slot":"input",className:(0,c.cn)("border-input file:text-foreground placeholder:text-muted-foreground/70 flex h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-sm shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive","search"===d&&"[&::-webkit-search-cancel-button]:appearance-none [&::-webkit-search-decoration]:appearance-none [&::-webkit-search-results-button]:appearance-none [&::-webkit-search-results-decoration]:appearance-none","file"===d&&"text-muted-foreground/70 file:border-input file:text-foreground p-0 pr-3 italic file:me-3 file:h-full file:border-0 file:border-r file:border-solid file:bg-transparent file:px-3 file:text-sm file:font-medium file:not-italic",a),...e})}a.s(["Input",()=>d])},281828,a=>{"use strict";let b=(0,a.i(170106).default)("ellipsis",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]]);a.s(["default",()=>b])},587532,a=>{"use strict";var b=a.i(550537);a.s(["Search",()=>b.default])},732087,a=>{"use strict";let b=(0,a.i(170106).default)("shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);a.s(["default",()=>b])},871398,a=>{"use strict";let b=(0,a.i(170106).default)("shield-check",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);a.s(["default",()=>b])},104416,a=>{"use strict";var b=a.i(871398);a.s(["ShieldCheck",()=>b.default])},945700,a=>{"use strict";let b=(0,a.i(170106).default)("mail",[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]]);a.s(["default",()=>b])},992258,a=>{"use strict";var b=a.i(945700);a.s(["Mail",()=>b.default])},603314,a=>{"use strict";var b=a.i(732087);a.s(["Shield",()=>b.default])},256640,a=>{"use strict";var b=a.i(187924),c=a.i(572131),d=a.i(660246),e=a.i(992258),f=a.i(603314),g=a.i(104416),h=a.i(546842),i=a.i(587532),j=a.i(281828),j=j,k=a.i(420237);a.i(730485);var l=a.i(70896),m=a.i(699570),n=a.i(866718),o=a.i(599209);function p(){let[a,p]=(0,c.useState)([]),[q,r]=(0,c.useState)(!0),[s,t]=(0,c.useState)(""),[u,v]=(0,c.useState)(null),w=async a=>{try{let b=await fetch("/api/users",{headers:{Authorization:`Bearer ${a}`}}),c=await b.json();Array.isArray(c)&&p(c)}catch(a){console.error("Failed to fetch users:",a)}finally{r(!1)}};(0,c.useEffect)(()=>{let a=(0,l.onAuthStateChanged)(k.auth,a=>{a?a.getIdToken().then(w):r(!1)});return()=>a()},[]);let x=async(b,c)=>{v(b);try{let d=await k.auth.currentUser?.getIdToken();(await fetch("/api/users",{method:"PATCH",headers:{"Content-Type":"application/json",Authorization:`Bearer ${d}`},body:JSON.stringify({userId:b,role:c})})).ok&&p(a.map(a=>a.id===b?{...a,role:c}:a))}catch(a){console.error("Failed to update role:",a)}finally{v(null)}},y=a.filter(a=>a.name?.toLowerCase().includes(s.toLowerCase())||a.email?.toLowerCase().includes(s.toLowerCase()));return q?(0,b.jsx)("div",{className:"flex items-center justify-center min-h-[400px]",children:(0,b.jsx)("div",{className:"w-8 h-8 border-4 border-blue-600 border-t-transparent rounded-full animate-spin"})}):(0,b.jsxs)("div",{children:[(0,b.jsxs)("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4 mb-8",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h1",{className:"text-2xl font-black text-gray-900 tracking-tight",children:"User Management"}),(0,b.jsx)("p",{className:"text-sm font-bold text-gray-400 mt-1",children:"Manage user permissions and access levels"})]}),(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsx)(i.Search,{className:"absolute left-3 top-1/2 -translate-y-1/2 size-4 text-gray-400"}),(0,b.jsx)(n.Input,{placeholder:"Search by name or email...",value:s,onChange:a=>t(a.target.value),className:"pl-10 w-80 rounded-2xl border-gray-100 bg-white shadow-sm focus:ring-blue-500"})]})]}),(0,b.jsxs)("div",{className:"bg-white rounded-3xl border border-gray-100 shadow-sm overflow-hidden",children:[(0,b.jsx)("div",{className:"overflow-x-auto",children:(0,b.jsxs)("table",{className:"w-full text-left border-collapse",children:[(0,b.jsx)("thead",{children:(0,b.jsxs)("tr",{className:"bg-gray-50/50",children:[(0,b.jsx)("th",{className:"px-6 py-4 text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"User"}),(0,b.jsx)("th",{className:"px-6 py-4 text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"Role"}),(0,b.jsx)("th",{className:"px-6 py-4 text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"Joined At"}),(0,b.jsx)("th",{className:"px-6 py-4 text-[10px] font-black text-gray-400 uppercase tracking-widest text-right",children:"Actions"})]})}),(0,b.jsx)("tbody",{className:"divide-y divide-gray-50",children:y.map(a=>(0,b.jsxs)("tr",{className:"hover:bg-gray-50/50 transition-colors",children:[(0,b.jsx)("td",{className:"px-6 py-4",children:(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("div",{className:"size-10 rounded-2xl bg-linear-to-tr from-blue-500/10 to-purple-500/10 flex items-center justify-center text-blue-600 font-black border border-blue-500/5",children:a.name?.[0]||a.email?.[0]?.toUpperCase()}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-sm font-black text-gray-900",children:a.name||"Anonymous"}),(0,b.jsxs)("p",{className:"text-[10px] font-bold text-gray-400 flex items-center gap-1",children:[(0,b.jsx)(e.Mail,{className:"size-3"})," ",a.email]})]})]})}),(0,b.jsx)("td",{className:"px-6 py-4",children:(0,b.jsxs)("span",{className:`inline-flex items-center gap-1.5 px-3 py-1 rounded-full text-[10px] font-black uppercase tracking-wider ${"admin"===a.role?"bg-purple-100 text-purple-700":"seller"===a.role?"bg-blue-100 text-blue-700":"bg-gray-100 text-gray-700"}`,children:["admin"===a.role?(0,b.jsx)(g.ShieldCheck,{className:"size-3"}):"seller"===a.role?(0,b.jsx)(f.Shield,{className:"size-3"}):(0,b.jsx)(h.User,{className:"size-3"}),a.role]})}),(0,b.jsx)("td",{className:"px-6 py-4",children:(0,b.jsx)("p",{className:"text-xs font-bold text-gray-500",children:new Date(a.created_at).toLocaleDateString()})}),(0,b.jsx)("td",{className:"px-6 py-4 text-right",children:(0,b.jsxs)(o.Popover,{children:[(0,b.jsx)(o.PopoverTrigger,{asChild:!0,children:(0,b.jsx)(m.Button,{variant:"ghost",size:"sm",className:"h-9 w-9 p-0 rounded-xl hover:bg-white border border-transparent hover:border-gray-100 shadow-sm",disabled:u===a.id,children:(0,b.jsx)(j.default,{className:"size-4 text-gray-400"})})}),(0,b.jsx)(o.PopoverContent,{align:"end",className:"w-48 p-2 rounded-2xl border-0 shadow-2xl bg-white/95 backdrop-blur-md",children:(0,b.jsxs)("div",{className:"p-2",children:[(0,b.jsx)("p",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest mb-2 px-1",children:"Change Role To"}),(0,b.jsxs)("button",{onClick:()=>x(a.id,"admin"),className:"flex items-center gap-3 w-full p-2.5 rounded-xl text-sm font-bold text-gray-600 hover:bg-gray-50 transition-colors",children:[(0,b.jsx)(g.ShieldCheck,{className:"size-4 text-purple-500"})," Admin"]}),(0,b.jsxs)("button",{onClick:()=>x(a.id,"seller"),className:"flex items-center gap-3 w-full p-2.5 rounded-xl text-sm font-bold text-gray-600 hover:bg-gray-50 transition-colors",children:[(0,b.jsx)(f.Shield,{className:"size-4 text-blue-500"})," Seller"]}),(0,b.jsxs)("button",{onClick:()=>x(a.id,"customer"),className:"flex items-center gap-3 w-full p-2.5 rounded-xl text-sm font-bold text-gray-600 hover:bg-gray-50 transition-colors",children:[(0,b.jsx)(h.User,{className:"size-4 text-gray-400"})," Customer"]})]})})]})})]},a.id))})]})}),0===y.length&&(0,b.jsxs)("div",{className:"text-center py-24",children:[(0,b.jsx)("div",{className:"size-16 bg-gray-50 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,b.jsx)(d.Users,{className:"size-8 text-gray-300"})}),(0,b.jsx)("p",{className:"text-gray-500 font-bold",children:"No users found"})]})]})]})}a.s(["default",()=>p],256640)}];

//# sourceMappingURL=_31c4b867._.js.map
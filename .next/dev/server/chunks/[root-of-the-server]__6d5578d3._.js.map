{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 42, "column": 0}, "map": {"version":3,"sources":["file:///E:/Frontend%20Projects/E-Commerce/src/lib/db.ts"],"sourcesContent":["import { Pool } from 'pg';\r\n\r\nconst pool = new Pool({\r\n  connectionString: process.env.DATABASE_URL,\r\n  ssl: {\r\n    rejectUnauthorized: false\r\n  }\r\n});\r\n\r\nexport default pool;\r\n"],"names":[],"mappings":";;;;AAAA;;;;;;AAEA,MAAM,OAAO,IAAI,qJAAI,CAAC;IACpB,kBAAkB,QAAQ,GAAG,CAAC,YAAY;IAC1C,KAAK;QACH,oBAAoB;IACtB;AACF;uCAEe"}},
    {"offset": {"line": 66, "column": 0}, "map": {"version":3,"sources":["file:///E:/Frontend%20Projects/E-Commerce/src/app/api/seed-products/route.ts"],"sourcesContent":["import { NextResponse } from 'next/server';\r\nimport pool from '@/lib/db';\r\n\r\nexport async function GET() {\r\n  try {\r\n    const productsToSeed = [\r\n      // Banner Products\r\n      {\r\n        name: \"Apple iPhone 16 Pro Max\",\r\n        description: \"The ultimate iPhone with A18 Pro chip and significant camera upgrades.\",\r\n        price: 1199.99,\r\n        image_url: \"/Apple-16-series.webp\",\r\n        category_slug: \"electronics\"\r\n      },\r\n      {\r\n        name: \"iPad Pro M4\",\r\n        description: \"The thinnest Apple product ever with the powerful M4 chip.\",\r\n        price: 999.99,\r\n        image_url: \"/iPad-Pro-M4.webp\",\r\n        category_slug: \"electronics\"\r\n      },\r\n      {\r\n        name: \"AirPods Max 2\",\r\n        description: \"High-fidelity audio with USB-C and new colors.\",\r\n        price: 549.00,\r\n        image_url: \"/airpods-max-2.png\",\r\n        category_slug: \"audio\"\r\n      },\r\n      {\r\n        name: \"AirPods Pro 3\",\r\n        description: \"Next-generation active noise cancellation.\",\r\n        price: 249.00,\r\n        image_url: \"/airpods-pro-3.jpg\",\r\n        category_slug: \"audio\"\r\n      },\r\n      // Featured Products\r\n      {\r\n        name: \"PlayStation 5\",\r\n        description: \"Experience lightning fast loading with an ultra-high speed SSD.\",\r\n        price: 499.99,\r\n        image_url: \"/ps5.jpg\",\r\n        category_slug: \"gaming\"\r\n      },\r\n       {\r\n        name: \"Women's Summer Collection\",\r\n        description: \"Elegant and comfortable styles for the season.\",\r\n        price: 89.99,\r\n        image_url: \"/fashion.jpg\",\r\n        category_slug: \"clothing\"\r\n      },\r\n      {\r\n        name: \"Amazon Echo Dot\",\r\n        description: \"Smart speaker with Alexa.\",\r\n        price: 49.99,\r\n        image_url: \"/alexa.png\",\r\n        category_slug: \"smart-home\"\r\n      },\r\n      {\r\n        name: \"Gucci Intense Oud\",\r\n        description: \"A luxurious fragrance for men and women.\",\r\n        price: 180.00,\r\n        image_url: \"/gucci.png\",\r\n        category_slug: \"beauty\"\r\n      },\r\n        {\r\n        name: \"Apple Watch Series 10\",\r\n        description: \"Thinner design, bigger display.\",\r\n        price: 399.00,\r\n        image_url: \"/apple-watch-series-10.jpg\",\r\n        category_slug: \"wearables\"\r\n      }\r\n    ];\r\n\r\n    const results = [];\r\n\r\n    for (const p of productsToSeed) {\r\n        // 1. Get or Create Category\r\n        let categoryId;\r\n        const catRes = await pool.query('SELECT id FROM categories WHERE slug = $1', [p.category_slug]);\r\n        if (catRes.rows.length > 0) {\r\n            categoryId = catRes.rows[0].id;\r\n        } else {\r\n             const newCat = await pool.query(\r\n                'INSERT INTO categories (name, slug, icon) VALUES ($1, $2, $3) RETURNING id',\r\n                [p.category_slug.charAt(0).toUpperCase() + p.category_slug.slice(1), p.category_slug, 'package']\r\n            );\r\n            categoryId = newCat.rows[0].id;\r\n        }\r\n\r\n      // 2. Check if product exists\r\n      const existing = await pool.query('SELECT id FROM products WHERE name = $1', [p.name]);\r\n      \r\n      let productId;\r\n      if (existing.rows.length > 0) {\r\n        productId = existing.rows[0].id;\r\n      } else {\r\n        const insert = await pool.query(\r\n          'INSERT INTO products (name, description, price, image_url, category_id, stock) VALUES ($1, $2, $3, $4, $5, $6) RETURNING id',\r\n          [p.name, p.description, p.price, p.image_url, categoryId, 50]\r\n        );\r\n        productId = insert.rows[0].id;\r\n      }\r\n      results.push({ name: p.name, id: productId });\r\n\r\n      // Update banners if this product corresponds to one\r\n      if (p.name.includes(\"Apple iPhone 16\")) {\r\n          await pool.query(\"UPDATE banners SET link_url = $1 WHERE title LIKE '%Apple 16%'\", [`/product/${productId}`]);\r\n      }\r\n      if (p.name.includes(\"iPad Pro\")) {\r\n          await pool.query(\"UPDATE banners SET link_url = $1 WHERE title LIKE '%iPad Pro%'\", [`/product/${productId}`]);\r\n      }\r\n       // Assuming S25 Ultra might exist or will be added, but for now handling known ones.\r\n       // If user mentioned S25 Ultra, it might be in the DB but not in my seed. \r\n       // I'll add S25 Ultra to the seed list to be sure.\r\n    }\r\n    \r\n    // Explicitly update any existing S25 Ultra banner if found\r\n    // First, let's ensure S25 Ultra product exists\r\n    const s25 = await pool.query(\"SELECT id FROM products WHERE name LIKE '%S25 Ultra%'\");\r\n    if (s25.rows.length > 0) {\r\n        await pool.query(\"UPDATE banners SET link_url = $1 WHERE title LIKE '%S25 Ultra%'\", [`/product/${s25.rows[0].id}`]);\r\n    }\r\n\r\n    return NextResponse.json({ success: true, seeded: results });\r\n  } catch (error: any) {\r\n    return NextResponse.json({ error: error.message }, { status: 500 });\r\n  }\r\n}\r\n"],"names":[],"mappings":"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"}}]
}
(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,180127,e=>{"use strict";let t=(0,e.i(475254).default)("arrow-left",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);e.s(["default",()=>t])},251854,e=>{"use strict";let t=(0,e.i(475254).default)("save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);e.s(["default",()=>t])},717521,e=>{"use strict";let t=(0,e.i(475254).default)("loader-circle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);e.s(["default",()=>t])},871689,e=>{"use strict";var t=e.i(180127);e.s(["ArrowLeft",()=>t.default])},356909,531278,e=>{"use strict";var t=e.i(251854);e.s(["Save",()=>t.default],356909);var a=e.i(717521);e.s(["Loader2",()=>a.default],531278)},143196,e=>{"use strict";var t=e.i(843476),a=e.i(271645),s=e.i(618566),r=e.i(871689),l=e.i(356909),i=e.i(531278);function o(){let e=(0,s.useRouter)(),o=(0,s.useParams)().id,[n,d]=(0,a.useState)([]),[c,u]=(0,a.useState)([]),[p,m]=(0,a.useState)(!1),[x,h]=(0,a.useState)(!0),[g,b]=(0,a.useState)({name:"",price:"",stock:"0",description:"",category_id:"",type:"new-arrival"});(0,a.useEffect)(()=>{Promise.all([fetch("/api/categories").then(e=>e.json()),fetch("/api/shops").then(e=>e.json()),fetch(`/api/products/${o}`).then(e=>e.json())]).then(([e,t,a])=>{d(e),u(t),b({name:a.title,price:a.price.toString(),stock:a.stock.toString(),description:a.description||"",category_id:a.category_id||"",type:a.type||"new-arrival"}),h(!1)})},[o]);let f=async t=>{t.preventDefault(),m(!0);try{(await fetch(`/api/products/${o}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify(g)})).ok&&e.push("/dashboard/products")}catch(e){console.error("Failed to update product",e)}finally{m(!1)}};return x?(0,t.jsx)("div",{className:"text-center p-10",children:"Loading product data..."}):(0,t.jsxs)("div",{className:"max-w-4xl mx-auto",children:[(0,t.jsxs)("button",{onClick:()=>e.back(),className:"flex items-center text-gray-600 hover:text-blue-600 mb-6 transition",children:[(0,t.jsx)(r.ArrowLeft,{className:"mr-2 h-4 w-4"})," Back to Products"]}),(0,t.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-8",children:[(0,t.jsxs)("h1",{className:"text-2xl font-bold text-gray-800 mb-8",children:["Edit Product: ",g.name]}),(0,t.jsxs)("form",{onSubmit:f,className:"space-y-6",children:[(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("label",{className:"text-sm font-semibold text-gray-700",children:"Product Name"}),(0,t.jsx)("input",{required:!0,type:"text",className:"w-full px-4 py-2 rounded-lg border border-gray-200 focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none transition",value:g.name,onChange:e=>b({...g,name:e.target.value})})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("label",{className:"text-sm font-semibold text-gray-700",children:"Type / Tag"}),(0,t.jsxs)("select",{className:"w-full px-4 py-2 rounded-lg border border-gray-200 focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none transition",value:g.type,onChange:e=>b({...g,type:e.target.value}),children:[(0,t.jsx)("option",{value:"new-arrival",children:"New Arrival"}),(0,t.jsx)("option",{value:"flash-sale",children:"Flash Sale"}),(0,t.jsx)("option",{value:"best-seller",children:"Best Seller"}),(0,t.jsx)("option",{value:"featured",children:"Featured"})]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("label",{className:"text-sm font-semibold text-gray-700",children:"Category"}),(0,t.jsxs)("select",{required:!0,className:"w-full px-4 py-2 rounded-lg border border-gray-200 focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none transition",value:g.category_id,onChange:e=>b({...g,category_id:e.target.value}),children:[(0,t.jsx)("option",{value:"",children:"Select Category"}),n.map(e=>(0,t.jsx)("option",{value:e.id,children:e.name},e.id))]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("label",{className:"text-sm font-semibold text-gray-700",children:"Price (à§³)"}),(0,t.jsx)("input",{required:!0,type:"number",className:"w-full px-4 py-2 rounded-lg border border-gray-200 focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none transition",value:g.price,onChange:e=>b({...g,price:e.target.value})})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("label",{className:"text-sm font-semibold text-gray-700",children:"Stock Quantity"}),(0,t.jsx)("input",{required:!0,type:"number",className:"w-full px-4 py-2 rounded-lg border border-gray-200 focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none transition",value:g.stock,onChange:e=>b({...g,stock:e.target.value})})]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("label",{className:"text-sm font-semibold text-gray-700",children:"Description"}),(0,t.jsx)("textarea",{rows:4,className:"w-full px-4 py-2 rounded-lg border border-gray-200 focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none transition",value:g.description,onChange:e=>b({...g,description:e.target.value})})]}),(0,t.jsx)("div",{className:"flex justify-end pt-4",children:(0,t.jsxs)("button",{disabled:p,type:"submit",className:"flex items-center px-8 py-3 bg-blue-600 text-white rounded-lg font-bold hover:bg-blue-700 transition disabled:opacity-50 shadow-lg shadow-blue-200",children:[p?(0,t.jsx)(i.Loader2,{className:"mr-2 h-5 w-5 animate-spin"}):(0,t.jsx)(l.Save,{className:"mr-2 h-5 w-5"}),"Update Product"]})})]})]})]})}e.s(["default",()=>o])}]);
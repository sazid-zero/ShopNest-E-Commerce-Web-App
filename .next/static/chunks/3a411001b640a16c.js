(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,323123,e=>{"use strict";let t=(0,e.i(475254).default)("trending-up",[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]]);e.s(["default",()=>t])},949411,e=>{"use strict";let t=(0,e.i(475254).default)("clock",[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);e.s(["default",()=>t])},503116,e=>{"use strict";var t=e.i(949411);e.s(["Clock",()=>t.default])},330257,e=>{"use strict";var t=e.i(843476),s=e.i(201928),a=e.i(488844),r=e.i(223945),i=e.i(323123),i=i,l=e.i(503116),n=e.i(271645),c=e.i(959141);e.i(151718);var d=e.i(441264),o=e.i(815062);let x={ShoppingCart:s.ShoppingCart,Package:a.Package,Store:r.Store,TrendingUp:i.default};function h(){let{profile:e}=(0,o.useAuth)(),[r,i]=(0,n.useState)([]),[h,m]=(0,n.useState)([]),[g,u]=(0,n.useState)(!0);return((0,n.useEffect)(()=>{let e=(0,d.onAuthStateChanged)(c.auth,async e=>{if(e)try{let t=await e.getIdToken(),s=await fetch("/api/dashboard/stats",{headers:{Authorization:`Bearer ${t}`}}),a=await s.json();a.stats&&(i(a.stats),m(a.recentActivity||[]))}catch(e){console.error("Failed to fetch dashboard stats:",e)}finally{u(!1)}else u(!1)});return()=>e()},[]),g)?(0,t.jsx)("div",{className:"flex items-center justify-center min-h-[400px]",children:(0,t.jsx)("div",{className:"w-8 h-8 border-4 border-blue-600 border-t-transparent rounded-full animate-spin"})}):(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"flex items-center justify-between mb-8",children:(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-2xl font-black text-gray-900 tracking-tight",children:e?.role==="admin"?"Administrative Overview":e?.role==="seller"?"Vendor Terminal":"My Dashboard"}),(0,t.jsxs)("p",{className:"text-sm font-bold text-gray-400 mt-1",children:["Welcome back, ",e?.name||"User"]})]})}),(0,t.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:r.map(e=>{let s=x[e.icon]||a.Package;return(0,t.jsxs)("div",{className:"relative group overflow-hidden bg-white p-6 rounded-2xl shadow-sm border border-gray-100 transition-all hover:shadow-xl hover:-translate-y-1",children:[(0,t.jsx)("div",{className:"absolute top-0 right-0 p-4 opacity-5 group-hover:scale-110 transition-transform",children:(0,t.jsx)(s,{className:"h-16 w-16"})}),(0,t.jsxs)("div",{className:"flex items-center relative z-10",children:[(0,t.jsx)("div",{className:`${e.color} p-3.5 rounded-2xl text-white mr-4 shadow-lg`,children:(0,t.jsx)(s,{className:"h-6 w-6"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-xs font-black text-gray-400 uppercase tracking-wider",children:e.name}),(0,t.jsx)("p",{className:"text-2xl font-black text-gray-900 tracking-tight",children:e.value})]})]})]},e.name)})}),(0,t.jsxs)("div",{className:"bg-white p-8 rounded-3xl shadow-sm border border-gray-100",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-8",children:[(0,t.jsx)("h2",{className:"text-xl font-black text-gray-900 tracking-tight",children:"Recent Activity"}),(0,t.jsx)("button",{className:"text-xs font-black text-blue-600 hover:text-blue-700 uppercase tracking-widest px-4 py-2 bg-blue-50 rounded-full transition-colors",children:"View All"})]}),(0,t.jsx)("div",{className:"space-y-6",children:h.length>0?h.map((e,a)=>(0,t.jsxs)("div",{className:"group flex items-center justify-between p-4 rounded-2xl hover:bg-gray-50 transition-all border border-transparent hover:border-gray-100",children:[(0,t.jsxs)("div",{className:"flex items-center",children:[(0,t.jsx)("div",{className:"h-12 w-12 rounded-2xl bg-gray-100 flex items-center justify-center mr-4 group-hover:bg-white transition-colors shadow-sm",children:(0,t.jsx)(s.ShoppingCart,{className:"h-6 w-6 text-gray-600"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm font-black text-gray-900",children:e.label}),(0,t.jsxs)("div",{className:"flex items-center gap-2 mt-0.5",children:[(0,t.jsx)(l.Clock,{className:"h-3 w-3 text-gray-400"}),(0,t.jsxs)("p",{className:"text-xs font-bold text-gray-400",children:[new Date(e.time).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})," â€¢ ",new Date(e.time).toLocaleDateString()]})]})]})]}),(0,t.jsxs)("div",{className:"text-right",children:[(0,t.jsx)("p",{className:"text-sm font-black text-gray-900",children:e.amount}),(0,t.jsx)("span",{className:`inline-block px-2.5 py-1 rounded-full text-[10px] font-black uppercase tracking-wider mt-1 ${"delivered"===e.status?"bg-green-100 text-green-700":"pending"===e.status?"bg-orange-100 text-orange-700":"bg-blue-100 text-blue-700"}`,children:e.status})]})]},a)):(0,t.jsxs)("div",{className:"text-center py-12",children:[(0,t.jsx)("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,t.jsx)(s.ShoppingCart,{className:"w-8 h-8 text-gray-300"})}),(0,t.jsx)("p",{className:"text-gray-400 font-bold",children:"No recent activity found"})]})})]})]})}e.s(["default",()=>h],330257)}]);